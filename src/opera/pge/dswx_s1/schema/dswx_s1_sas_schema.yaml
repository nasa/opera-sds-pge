#
# Yamale schema for the DSWx-S1 SAS Configuration
#

runconfig:
    name: str()

    groups:
        pge_name_group:
            pge_name: enum('DSWX_S1_PGE')

        input_file_group:
            # REQUIRED - list of RTC products (directory or files)
            input_file_path: list(str(), min=1)

        dynamic_ancillary_file_group:
            # Digital elevation model
            dem_file: str(required=True)

            # Digital elevation model description
            dem_file_description: str(required=False)

            # Reference water body map (Required)
            # https://global-surface-water.appspot.com/download
            reference_water_file: str(required=True)

            # Pekel's water description
            reference_water_file_description: str(required=False)

            # Height Above Nearest Drainage (optional)
            hand_file: str(required=True)

            # HAND description
            hand_file_description: str(required=False)

            # ESA WorldCover map file
            worldcover_file: str(required=False)

            # ESA WorldCover map description
            worldcover_file_description: str(required=False)

            # NOAA GSHHS shapefile
            shoreline_shapefile: str(required=False)

            # NOAA GSHHS shapefile description
            shoreline_shapefile_description: str(required=False)

            # algorithm parameter
            algorithm_parameters: str(required=True)

        static_ancillary_file_group:
            static_ancillary_inputs_flag: bool(required=False)

            # MGRS database sqlite file
            mgrs_database_file: str(required=False)

            # MGRS collection database sqlite file
            mgrs_collection_database_file: str(required=False)

        primary_executable:
            product_type: enum('dswx_s1', 'twele')

        product_path_group:
            # Directory where PGE will place results
            product_path: str()

            # Directory where SAS can write temporary data
            scratch_path: str()

            # Intermediate file name.  SAS writes the output product to the following file.
            # After the SAS completes, the PGE wrapper renames the product file
            # according to proper file naming conventions.
            sas_output_path: str()

            product_version: num(required=False)

            # DSWx-S1 product format (default is 'COG')
            output_imagery_format: enum('GTiff', 'COG', required=False)

            # DSWx-S1 Compression Options for COG
            output_imagery_compression: str(required=False)

            # DSWx-S1 Compression bits for COG
            output_imagery_nbits: int(min=1, required=False)

        log_file: str(required=False)